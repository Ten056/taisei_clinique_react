{"ast":null,"code":"import _slicedToArray from\"/Users/ten/_BOX/react-typescript-weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import Title from'./components/Title';import Form from'./components/Form';import Results from'./components/Results';import Loading from'./components/Loading';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var _useState5=useState({country:\"\",cityName:\"\",temperature:\"\",conditionText:\"\",icon:\"\"}),_useState6=_slicedToArray(_useState5,2),results=_useState6[0],setResults=_useState6[1];var getWeather=function getWeather(e){e.preventDefault();setLoading(true);fetch(\"https://api.weatherapi.com/v1/current.json?key=c8ba5db6450e4486ad2132014230307&q=\".concat(city,\"&aqi=no\")).then(function(res){return res.json();}).then(function(data){setResults({country:data.location.country,cityName:data.location.name,temperature:data.current.temp_c,conditionText:data.current.condition.text,icon:data.current.condition.icon});setCity(\"\");setLoading(false);}).catch(function(err){return alert(\"エラーが発生しました。ページをリロードして再度トライしてください。\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(Form,{setCity:setCity,getWeather:getWeather,city:city}),loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(Results,{results:results})]})});}export default App;","map":{"version":3,"names":["React","useState","Title","Form","Results","Loading","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","city","setCity","_useState5","country","cityName","temperature","conditionText","icon","_useState6","results","setResults","getWeather","e","preventDefault","fetch","concat","then","res","json","data","location","name","current","temp_c","condition","text","catch","err","alert","className","children"],"sources":["/Users/ten/_BOX/react-typescript-weather-app/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport { useState } from 'react';\nimport Title from './components/Title';\nimport Form from './components/Form';\nimport Results from './components/Results';\nimport Loading from './components/Loading';\nimport './App.css';\n\ntype ResultsStateType = {\n  country: string;\n  cityName: string;\n  temperature: string;\n  conditionText: string;\n  icon: string;\n}\n\nfunction App() {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [city, setCity] = useState<string>(\"\");\n  const [results, setResults] = useState<ResultsStateType>({\n    country: \"\",\n    cityName: \"\",\n    temperature: \"\",\n    conditionText: \"\",\n    icon: \"\"\n  });\n  const getWeather = (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      setLoading(true);\n      fetch(`https://api.weatherapi.com/v1/current.json?key=c8ba5db6450e4486ad2132014230307&q=${city}&aqi=no`)\n          .then(res => res.json())\n          .then(data => {\n            setResults({\n              country: data.location.country,\n              cityName: data.location.name,\n              temperature: data.current.temp_c,\n              conditionText: data.current.condition.text,\n              icon: data.current.condition.icon\n            })\n            setCity(\"\");\n            setLoading(false);\n          })\n          .catch(err => alert(\"エラーが発生しました。ページをリロードして再度トライしてください。\"))\n  }\n  return (\n    <div className=\"wrapper\">\n      <div className=\"container\">\n        <Title />\n        <Form setCity={setCity} getWeather={getWeather} city={city} />\n        {loading ? <Loading /> : <Results results={results}/>}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAUnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA8BV,QAAQ,CAAU,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAwBf,QAAQ,CAAS,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA8BnB,QAAQ,CAAmB,CACvDoB,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,EAAE,CACfC,aAAa,CAAE,EAAE,CACjBC,IAAI,CAAE,EACR,CAAC,CAAC,CAAAC,UAAA,CAAAb,cAAA,CAAAO,UAAA,IANKO,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAO1B,GAAM,CAAAG,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,CAAmC,CAAK,CACxDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBhB,UAAU,CAAC,IAAI,CAAC,CAChBiB,KAAK,qFAAAC,MAAA,CAAqFf,IAAI,WAAS,CAAC,CACnGgB,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,CACvBF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZT,UAAU,CAAC,CACTP,OAAO,CAAEgB,IAAI,CAACC,QAAQ,CAACjB,OAAO,CAC9BC,QAAQ,CAAEe,IAAI,CAACC,QAAQ,CAACC,IAAI,CAC5BhB,WAAW,CAAEc,IAAI,CAACG,OAAO,CAACC,MAAM,CAChCjB,aAAa,CAAEa,IAAI,CAACG,OAAO,CAACE,SAAS,CAACC,IAAI,CAC1ClB,IAAI,CAAEY,IAAI,CAACG,OAAO,CAACE,SAAS,CAACjB,IAC/B,CAAC,CAAC,CACFN,OAAO,CAAC,EAAE,CAAC,CACXJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACD6B,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,KAAK,CAAC,mCAAmC,CAAC,GAAC,CACjE,CAAC,CACD,mBACEvC,IAAA,QAAKwC,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtBvC,KAAA,QAAKsC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzC,IAAA,CAACL,KAAK,GAAE,CAAC,cACTK,IAAA,CAACJ,IAAI,EAACgB,OAAO,CAAEA,OAAQ,CAACU,UAAU,CAAEA,UAAW,CAACX,IAAI,CAAEA,IAAK,CAAE,CAAC,CAC7DJ,OAAO,cAAGP,IAAA,CAACF,OAAO,GAAE,CAAC,cAAGE,IAAA,CAACH,OAAO,EAACuB,OAAO,CAAEA,OAAQ,CAAC,CAAC,EAClD,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAjB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}